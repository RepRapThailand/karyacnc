<html>
	<head>
		<title>CostyKarya CNC gcode tracer</title>
</head>
<style>
html, body {
    overflow-y: visible;
}
</style>

<body style="font-family:arial;font-size:12pt">

<script src="clipper.js"></script>
<script>

var path1=[[{"X":0,"Y":0},{"X":200,"Y":0},{"X":220,"Y":100},{"X":20,"Y":100}],
           [{"X":200,"Y":10},{"X":20,"Y":10},{"X":40,"Y":90},{"X":140,"Y":80}]];

		   
var path2=[];
for (var i=0;i<100/2;i++){
	path2.push([{"X":0,"Y":i*2},{"X":200,"Y":i*2},{"X":200,"Y":i*2+1},{"X":0,"Y":i*2+1}]);
}
var c=new ClipperLib.Clipper();
var solution=[];

c.AddPaths(path1,ClipperLib.PolyType.ptSubject,true);

c.AddPaths(path2,ClipperLib.PolyType.ptClipper,true);
//c.AddPath(path3,ClipperLib.PolyType.ptClipper,true);
c.Execute(ClipperLib.ClipType.ctIntersection, solution, ClipperLib.PolyFillType.pftNonZero, ClipperLib.PolyFillType.pftNonZero);
console.log(JSON.stringify(solution));
</script>
</body></html>